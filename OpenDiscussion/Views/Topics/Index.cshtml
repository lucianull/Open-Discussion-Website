@model OpenDiscussion.Models.Topic

@{
}
@if(ViewBag.ShowButtons == true || ViewBag.isAdmin)
{
    <a class="btn btn-success" href="/Topics/New/@ViewBag.TopicCategoryId">Adauga un nou topic</a>
    <br />
}
<br />
<div>
    <a class="btn btn-success" href="/Categories/Index">Inapoi</a>
</div>
<br />
<br />
@foreach(var topic in ViewBag.Topics){
    <a href="/Discussions/Index/@topic.TopicId" class="text-decoration-none text-muted">
    <div class="card">
        <div class="card-body">
            <h3>@topic.Name</h3>
            <div class="w-75 p-3" style="background-color: #eee;">@topic.Description</div>
        </div>

        @if (ViewBag.ShowButtons == true || ViewBag.isAdmin)
        {
            <div class="d-flex flex-row gap-3">

                <a class="btn btn-success" href="/Topics/Edit/@topic.TopicId">Editare topic</a>

                <form method="post" action="/Topics/Delete/@topic.TopicId">
                    <button class="btn btn-outline-danger p-2" type="submit"><i class="bi bi-trash">Sterge</i></button>
                </form>
            </div>
        }
    </div>
    </a>
    <br />
}
