@model OpenDiscussion.Models.Discussion

<a class="btn btn-success" href="/Discussions/New/@ViewBag.DiscussionTopicId">Adauga o noua discutie</a>
<br />
<br />

<br />
<div>
    <a class="btn btn-success" href="/Topics/Index/@ViewBag.DiscussionCategoryId">Inapoi</a>
</div>
<br />
<br />

<form method="post" name="SortedData" action="/Discussions/Sorted/@ViewBag.DiscussionTopicId">
    <input type="radio" name="Sort" value="Date" checked/> Data
    <input type="radio" name="Sort" value="Comments"/>Nr.Comentarii
    <input type="submit" value="Aplica filtrul" />
</form>

@if (TempData.ContainsKey("Message"))
{
    <p>@TempData["Message"]</p>
    <br/>
}

@foreach(OpenDiscussion.Models.Discussion discussion in ViewBag.Discussions) {
    <a href="/Discussions/Show/@discussion.DiscussionId" class="text-decoration-none text-muted">
        @Html.Partial("Card", discussion)
    </a>
}

<div>
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item">
                <a class="page-link" href="/Discussions/Index/@ViewBag.DiscussionTopicId?page=1" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            @for (int i = 1; i <= ViewBag.lastPage; i++)
            {
                <li class="page-item">
                    <a class="page-link" href="/Discussions/Index/@ViewBag.DiscussionTopicId?page=@i">@(i)</a>
                </li>
            }
            <li class="page-item">

                <a class="page-link" href="/Discussions/Index/@ViewBag.DiscussionTopicId?page=@(ViewBag.lastPage)" arialabel="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>
